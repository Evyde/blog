---
title: 51单片机学习笔记-第一周-点亮LED
date: 2020-09-14 23:23:23
tags:
- 51
- Study
categories:
- Study
- Code
---
以前我也进行过51的学习，但是不太系统，这次跟着物理学院的一个嵌入式开发小组学习一下，应该会比较有意思。
<!--more-->  

# 环境搭建  
这个没什么好说的，跟着教程一步一步走即可，先装驱动，再装Keil，需要注意一下，Keil在高分屏下的设置，需要右键`属性`->`兼容性`->`更改高DPI设置`->`高DPi缩放替代`即可。  
然后就是写代码了，这里是第一天所以先写一个简单的LED程序测试环境是否搭建成功。  
  
# 写代码  
代码如下： 
```c++
//包含头文件，一般情况不需要改动，
#include <reg52.h>
//头文件包含特殊功能寄存器的定义

// 用sbit 关键字 定义 LED到P1.0端口，
sbit LED=P1^0;
//LED是自己任意定义且容易记忆的符号

/*------------------------------------------------
                    主函数
------------------------------------------------*/
void main (void)
{
//此方法使用bit位对单个端口赋值
//将P1.0口赋值 1，对外输出高电平
LED=1;
//主循环
while (1)
  {
        //主循环中添加其他需要一直工作的程序
        //加主循环主要是让程序一直运行下去
  }
}
 ```
   
 # 编译链接  
 和VC++ 6.0一样，点那个左上角两个箭头的按钮就可以直接生成二进制文件（准确说是十六进制），默认在`./obj`目录下，可以看到一个`.hex`文件。
   
 # 烧录  
 打开STC-ISP软件，打开程序文件，可以看到`02 00 03 78 7F E4 F6 D8 FD 75 81 07 02 00 0F C2 90 D2 90 80 FC 00`，这就是我们的程序了。然后插入单片机，选择`检测MCU选项`，程序会自动检测单片机型号（比那时候方便多了），然后`下载/编程`即可。  
 Linux下有一个[STC Flash的Python脚本](https://github.com/laborer/stcflash)可以用。效果不错。
